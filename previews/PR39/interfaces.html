<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Userfacing API ¬∑ Supposition.jl Documentation</title><meta name="title" content="Userfacing API ¬∑ Supposition.jl Documentation"/><meta property="og:title" content="Userfacing API ¬∑ Supposition.jl Documentation"/><meta property="twitter:title" content="Userfacing API ¬∑ Supposition.jl Documentation"/><meta name="description" content="Documentation for Supposition.jl Documentation."/><meta property="og:description" content="Documentation for Supposition.jl Documentation."/><meta property="twitter:description" content="Documentation for Supposition.jl Documentation."/><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="search_index.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">Supposition.jl Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="index.html">Main Page</a></li><li><a class="tocitem" href="intro.html">Introduction to PBT</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="Examples/basic.html">Basic Usage</a></li><li><a class="tocitem" href="Examples/composition.html">Composing Generators</a></li><li><a class="tocitem" href="Examples/recursive.html">Recursive Generation</a></li><li><a class="tocitem" href="Examples/docalignment.html">Alignment of Documentation</a></li><li><a class="tocitem" href="Examples/target.html">Targeted Operation</a></li><li><a class="tocitem" href="Examples/stateful.html">Stateful Testing</a></li><li><a class="tocitem" href="Examples/events.html">Events &amp; Oracle testing</a></li></ul></li><li><a class="tocitem" href="resources.html">PBT Resources</a></li><li><a class="tocitem" href="faq.html">FAQ</a></li><li class="is-active"><a class="tocitem" href="interfaces.html">Userfacing API</a><ul class="internal"><li><a class="tocitem" href="#Macro-based-API"><span>Macro-based API</span></a></li><li><a class="tocitem" href="#API-for-controlling-fuzzing"><span>API for controlling fuzzing</span></a></li><li><a class="tocitem" href="#Available-Possibility"><span>Available <code>Possibility</code></span></a></li><li><a class="tocitem" href="#Type-based-hooks"><span>Type-based hooks</span></a></li></ul></li><li><a class="tocitem" href="benchmarks.html">Benchmarks</a></li><li><a class="tocitem" href="api.html">API Reference</a></li><li><a class="tocitem" href="glossary.html">Glossary</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="interfaces.html">Userfacing API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="interfaces.html">Userfacing API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/Seelengrab/Supposition.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/Seelengrab/Supposition.jl/blob/main/docs/src/interfaces.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Userfacing-API"><a class="docs-heading-anchor" href="#Userfacing-API">Userfacing API</a><a id="Userfacing-API-1"></a><a class="docs-heading-anchor-permalink" href="#Userfacing-API" title="Permalink"></a></h1><p>Supposition.jl provides a few main interfaces to hook into with your code, as well as use during general usage of Supposition.jl. These are pretty robust and very minimal.</p><p>The interfaces mentioned on this page are intended for user-extension &amp; usage, in the manner described. Overloading the functions in a different way or assuming more of an interface than is guaranteed is not supported.</p><p>For the abstract-type based interfaces <code>ExampleDB</code> and <code>Possibility</code>, you can use the API provided by <a href="https://github.com/Seelengrab/RequiredInterfaces.jl">RequiredInterfaces.jl</a> to check for basic compliance, if you want to provide a custom implementation.</p><h2 id="Macro-based-API"><a class="docs-heading-anchor" href="#Macro-based-API">Macro-based API</a><a id="Macro-based-API-1"></a><a class="docs-heading-anchor-permalink" href="#Macro-based-API" title="Permalink"></a></h2><p>These macros are the main entryway most people should use, for both entry-level and advanced usage. <a href="interfaces.html#Supposition.@check"><code>@check</code></a> is responsible for interfacing with the internals of Supposition.jl, orchestrating the generation of examples &amp; reporting back to the testing framework.</p><p><a href="Examples/composition.html#@composed"><code>@composed</code></a> is the one-stop-shop for composing a new generator from a number of existing ones.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.@check" href="#Supposition.@check"><code>Supposition.@check</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@check [key=val]... function...</code></pre><p>The main way to declare &amp; run a property based test. Called like so:</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition, Supposition.Data

julia&gt; Supposition.@check [options...] function foo(a = Data.Text(Data.Characters(); max_len=10))
          length(a) &gt; 8
       end</code></pre><p>Supported options, passed as <code>key=value</code>:</p><ul><li><code>rng::Random.AbstractRNG</code>: Pass an RNG to use. Defaults to <code>Random.Xoshiro(rand(Random.RandomDevice(), UInt))</code>.</li><li><code>max_examples::Int</code>: The maximum number of generated examples that are passed to the property.</li><li><code>broken::Bool</code>: Mark a property that should pass but doesn&#39;t as broken, so that failures are not counted.</li><li><code>record::Bool</code>: Whether the result of the invocation should be recorded with any parent testsets.</li><li><code>db</code>: Either a Boolean (<code>true</code> uses a fallback database, <code>false</code> stops recording examples) or an <a href="interfaces.html#ExampleDB"><code>ExampleDB</code></a>.</li><li><code>config</code>: A <code>CheckConfig</code> object that will be used as a default for all previous options. Options that are passed explicitly to <code>@check</code> will override whatever is provided through <code>config</code>.</li></ul><p>The arguments to the given function are expected to be generator strategies. The names they are bound to are the names the generated object will have in the test. These arguments will be shown should the property fail!</p><p><strong>Extended help</strong></p><p><strong>Reusing existing properties</strong></p><p>If you already have a predicate defined, you can also use the calling syntax in <code>@check</code>. Here, the generator is passed purely positionally to the given function; no argument name is necessary.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition, Supposition.Data

julia&gt; isuint8(x) = x isa UInt8

julia&gt; intgen = Data.Integers{UInt8}()

julia&gt; Supposition.@check isuint8(intgen)</code></pre><p><strong>Passing a custom RNG</strong></p><p>It is possible to optionally give a custom RNG object that will be used for random data generation. If none is given, <code>Xoshiro(rand(Random.RandomDevice(), UInt))</code> is used instead.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition, Supposition.Data, Random

# use a custom Xoshiro instance
julia&gt; Supposition.@check rng=Xoshiro(1234) function foo(a = Data.Text(Data.Characters(); max_len=10))
          length(a) &gt; 8
       end</code></pre><div class="admonition is-warning"><header class="admonition-header">Hardware RNG</header><div class="admonition-body"><p>Be aware that you <em>cannot</em> pass a hardware RNG to <code>@check</code> directly. If you want to randomize based on hardware entropy, seed a copyable RNG like <code>Xoshiro</code> from your hardware RNG and pass that to <code>@check</code> instead. The RNG needs to be copyable for reproducibility.</p></div></div><p><strong>Additional Syntax</strong></p><p>In addition to passing a whole <code>function</code> like above, the following syntax are also supported:</p><pre><code class="language-julia hljs">text = Data.Text(Data.AsciiCharacters(); max_len=10)

# If no name is needed, use an anonymous function
@check (a = text) -&gt; a*a
@check (a = text,) -&gt; &quot;foo: &quot;*a
@check (a = text, num = Data.Integers(0,10)) -&gt; a^num

# ..or give the anonymous function a name too - works with all three of the above
@check build_sentence(a = text, num = Data.Floats{Float16}()) -&gt; &quot;The $a is $num!&quot;
build_sentence(&quot;foo&quot;, 0.5) # returns &quot;The foo is 0.5!&quot;</code></pre><div class="admonition is-warning"><header class="admonition-header">Replayability</header><div class="admonition-body"><p>While you can pass an anonymous function to <code>@check</code>, be aware that doing so may hinder replayability of found test cases when surrounding invocations of <code>@check</code> are moved. Only named functions are resistant to this.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L101-L185">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.@composed" href="#Supposition.@composed"><code>Supposition.@composed</code></a> ‚Äî <span class="docstring-category">Macro</span></header><section><div><pre><code class="language-julia hljs">@composed</code></pre><p>A way to compose multiple <code>Possibility</code> into one, by applying a function.</p><p>The return type is inferred as a best-effort!</p><p>Used like so:</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition, Supposition.Data

julia&gt; text = Data.Text(Data.AsciiCharacters(); max_len=10)

julia&gt; gen = Supposition.@composed function foo(a = text, num=Data.Integers(0, 10))
              lpad(num, 2) * &quot;: &quot; * a
       end

julia&gt; example(gen)
&quot; 8:  giR2YL\rl&quot;</code></pre><p>In addition to passing a whole <code>function</code> like above, the following syntax are also supported:</p><pre><code class="language-julia hljs"># If no name is needed, use an anonymous function
double_up =  @composed (a = text) -&gt; a*a
prepend_foo = @composed (a = text,) -&gt; &quot;foo: &quot;*a
expo_str = @composed (a = text, num = Data.Integers(0,10)) -&gt; a^num

# ..or give the anonymous function a name too - works with all three of the above
sentence = @composed build_sentence(a = text, num = Data.Floats{Float16}()) -&gt; &quot;The $a is $num!&quot;
build_sentence(&quot;foo&quot;, 0.5) # returns &quot;The foo is 0.5!&quot;

# or compose a new generator out of an existing function
my_func(str, number) = number * &quot;? &quot; * str
ask_number = @composed my_func(text, num)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L383-L421">source</a></section></article><h2 id="API-for-controlling-fuzzing"><a class="docs-heading-anchor" href="#API-for-controlling-fuzzing">API for controlling fuzzing</a><a id="API-for-controlling-fuzzing-1"></a><a class="docs-heading-anchor-permalink" href="#API-for-controlling-fuzzing" title="Permalink"></a></h2><p>These functions are intended for usage while testing, having various effects on either the shrinking or fuzzing process. They are not intended to be part of a codebase permanently or remain active while deployed in production.</p><p>The trailing exclamation mark serves as a reminder that this will, under the hood, modify the currently running testcase.</p><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.target!-Tuple{Float64}" href="#Supposition.target!-Tuple{Float64}"><code>Supposition.target!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">target!(score)</code></pre><p>Update the currently running testcase to track the given score as its target.</p><p><code>score</code> must be <code>convert</code>ible to a <code>Float64</code>.</p><div class="admonition is-danger"><header class="admonition-header">Multiple Updates</header><div class="admonition-body"><p>This score can only be set once! Repeated calls will be ignored.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Callability</header><div class="admonition-body"><p>This can only be called while a testcase is currently being examined or an example for a <code>Possibility</code> is being actively generated. It is ok to call this inside of <code>@composed</code> or <code>@check</code>, as well as any functions only intended to be called from one of those places.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L522-L536">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.assume!-Tuple{Bool}" href="#Supposition.assume!-Tuple{Bool}"><code>Supposition.assume!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">assume!(precondition::Bool)</code></pre><p>If this precondition is not met, abort the test and mark the currently running testcase as invalid.</p><div class="admonition is-warning"><header class="admonition-header">Callability</header><div class="admonition-body"><p>This can only be called while a testcase is currently being examined or an example for a <code>Possibility</code> is being actively generated. It is ok to call this inside of <code>@composed</code> or <code>@check</code>, as well as any functions only intended to be called from one of those places.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L543-L552">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.produce!-Tuple{Supposition.Data.Possibility}" href="#Supposition.Data.produce!-Tuple{Supposition.Data.Possibility}"><code>Supposition.Data.produce!</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">produce!(p::Possibility{T}) -&gt; T</code></pre><p>Produces a value from the given <code>Possibility</code>, recording the required choices in the currently active <code>TestCase</code>.</p><div class="admonition is-warning"><header class="admonition-header">Callability</header><div class="admonition-body"><p>This can only be called while a testcase is currently being examined or an example for a <code>Possibility</code> is being actively generated. It is ok to call this inside of <code>@composed</code> or <code>@check</code>, as well as any functions only intended to be called from one of those places.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L568-L577">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.reject!" href="#Supposition.reject!"><code>Supposition.reject!</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">reject!()</code></pre><p>Reject the current testcase as invalid, meaning the generated example should not be considered as producing a valid counterexample.</p><div class="admonition is-warning"><header class="admonition-header">Callability</header><div class="admonition-body"><p>This can only be called while a testcase is currently being examined or an example for a <code>Possibility</code> is being actively generated. It is ok to call this inside of <code>@composed</code> or <code>@check</code>, as well as any functions only intended to be called from one of those places.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L555-L565">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.event!" href="#Supposition.event!"><code>Supposition.event!</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">event!(obj)
event!(label::AbstractString, obj)</code></pre><p>Record <code>obj</code> as an event in the current testcase that occured while running your property. If no <code>label</code> is given, a default one will be chosen.</p><div class="admonition is-warning"><header class="admonition-header">Callability</header><div class="admonition-body"><p>This can only be called while a testcase is currently being examined or an example for a <code>Possibility</code> is being actively generated. It is ok to call this inside of <code>@composed</code> or <code>@check</code>, as well as any functions only intended to be called from one of those places.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L580-L591">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.err_less" href="#Supposition.err_less"><code>Supposition.err_less</code></a> ‚Äî <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">err_less(e1::E, e2::E) where E</code></pre><p>A comparison function for exceptions, used when encountering an error in a property. Returns <code>true</code> if <code>e1</code> is considered to be &quot;easier&quot; or &quot;simpler&quot; than <code>e2</code>. Only definable when both <code>e1</code> and <code>e2</code> have the same type.</p><p>This is optional to implement, but may be beneficial for shrinking counterexamples leading to an error with rich metadata, in which case <code>err_less</code> will be used to compare errors of the same type from different counterexamples. In particular, this function will likely be helpful for errors with metadata that is far removed from the input that caused the error itself, but would nevertheless be helpful when investigating the failure.</p><div class="admonition is-info"><header class="admonition-header">Coincidental Errors</header><div class="admonition-body"><p>There may also be situations where defining <code>err_less</code> won&#39;t help to find a smaller counterexample if the cause of the error is unrelated to the choices taken during generation. For instance, this is the case when there is no network connection and a <code>Sockets.DNSError</code> is thrown during the test, or there is a network connection but the host your program is trying to connect to does not have an entry in DNS.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/api.jl#L600-L619">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.DEFAULT_CONFIG" href="#Supposition.DEFAULT_CONFIG"><code>Supposition.DEFAULT_CONFIG</code></a> ‚Äî <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia hljs">DEFAULT_CONFIG</code></pre><p>A <code>ScopedValue</code> holding the <a href="api.html#Supposition.CheckConfig-api"><code>CheckConfig</code></a> that will be used by default &amp; as a fallback.</p><p>Currently uses these values:</p><ul><li><code>rng</code>: <code>Random.Xoshiro(rand(Random.RandomDevice(), UInt))</code></li><li><code>max_examples</code>: <code>10_000</code></li><li><code>record</code>: <code>true</code></li><li><code>verbose</code>: <code>false</code></li><li><code>broken</code>: <code>false</code></li><li><code>db</code>: <code>UnsetDB()</code></li><li><code>buffer_size</code>: <code>100_000</code></li></ul><p><a href="interfaces.html#Supposition.@check"><code>@check</code></a> will use a <em>new</em> instance of <code>Random.Xoshiro</code> by itself.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/Supposition.jl#L47-L63">source</a></section></article><h2 id="Available-Possibility"><a class="docs-heading-anchor" href="#Available-Possibility">Available <code>Possibility</code></a><a id="Available-Possibility-1"></a><a class="docs-heading-anchor-permalink" href="#Available-Possibility" title="Permalink"></a></h2><p>The <code>Data</code> module contains most everyday objects you&#39;re going to use when writing property based tests with Supposition.jl. For example, the basic generators for integers, strings, floating point values etc. are defined here. Everything listed in this section is considered supported under semver.</p><ul><li><a href="interfaces.html#Supposition.Data.BitIntegers-Tuple{}"><code>Supposition.Data.BitIntegers</code></a></li><li><a href="interfaces.html#Supposition.Data.bind-Tuple{Any, Supposition.Data.Possibility}"><code>Supposition.Data.bind</code></a></li><li><a href="interfaces.html#Supposition.Data.postype-Tuple{P} where P&lt;:Supposition.Data.Possibility"><code>Supposition.Data.postype</code></a></li><li><a href="interfaces.html#Supposition.Data.postype-Union{Tuple{Type{_P}}, Tuple{_P}, Tuple{T}} where {T, _P&lt;:Supposition.Data.Possibility{T}}"><code>Supposition.Data.postype</code></a></li><li><a href="interfaces.html#Supposition.Data.produce!-Tuple{Supposition.Data.Possibility}"><code>Supposition.Data.produce!</code></a></li><li><a href="interfaces.html#Supposition.Data.recursive-Tuple{Any, Supposition.Data.Possibility}"><code>Supposition.Data.recursive</code></a></li><li><a href="interfaces.html#Supposition.Data.AsciiCharacters"><code>Supposition.Data.AsciiCharacters</code></a></li><li><a href="interfaces.html#Supposition.Data.Bind"><code>Supposition.Data.Bind</code></a></li><li><a href="interfaces.html#Supposition.Data.Booleans"><code>Supposition.Data.Booleans</code></a></li><li><a href="interfaces.html#Supposition.Data.Characters"><code>Supposition.Data.Characters</code></a></li><li><a href="interfaces.html#Supposition.Data.Dicts"><code>Supposition.Data.Dicts</code></a></li><li><a href="interfaces.html#Supposition.Data.Floats"><code>Supposition.Data.Floats</code></a></li><li><a href="interfaces.html#Supposition.Data.Floats-Tuple{}"><code>Supposition.Data.Floats</code></a></li><li><a href="interfaces.html#Supposition.Data.Integers"><code>Supposition.Data.Integers</code></a></li><li><a href="interfaces.html#Supposition.Data.Just"><code>Supposition.Data.Just</code></a></li><li><a href="interfaces.html#Supposition.Data.Map"><code>Supposition.Data.Map</code></a></li><li><a href="interfaces.html#Supposition.Data.OneOf"><code>Supposition.Data.OneOf</code></a></li><li><a href="interfaces.html#Supposition.Data.Pairs"><code>Supposition.Data.Pairs</code></a></li><li><a href="interfaces.html#Supposition.Data.Possibility"><code>Supposition.Data.Possibility</code></a></li><li><a href="interfaces.html#Supposition.Data.Recursive"><code>Supposition.Data.Recursive</code></a></li><li><a href="interfaces.html#Supposition.Data.SampledFrom"><code>Supposition.Data.SampledFrom</code></a></li><li><a href="interfaces.html#Supposition.Data.Satisfying"><code>Supposition.Data.Satisfying</code></a></li><li><a href="interfaces.html#Supposition.Data.Text"><code>Supposition.Data.Text</code></a></li><li><a href="interfaces.html#Supposition.Data.Vectors"><code>Supposition.Data.Vectors</code></a></li><li><a href="interfaces.html#Supposition.Data.WeightedNumbers"><code>Supposition.Data.WeightedNumbers</code></a></li><li><a href="interfaces.html#Supposition.Data.WeightedSample"><code>Supposition.Data.WeightedSample</code></a></li></ul><h3 id="Functions"><a class="docs-heading-anchor" href="#Functions">Functions</a><a id="Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.:|-Tuple{Supposition.Data.Possibility, Supposition.Data.Possibility}" href="#Base.:|-Tuple{Supposition.Data.Possibility, Supposition.Data.Possibility}"><code>Base.:|</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">|(::Possibility{T}, ::Possibility{S}) where {T,S} -&gt; OneOf{Union{T,S}}</code></pre><p>Combine two <code>Possibility</code> into one, sampling uniformly from either.</p><p>If either of the two arguments is a <code>OneOf</code>, the resulting object acts as if all original non-<code>OneOf</code> had be given to <code>OneOf</code> instead. That is, e.g. <code>OneOf(a, b) | c</code> will act like <code>OneOf(a,b,c)</code>.</p><p>See also <a href="interfaces.html#Supposition.Data.OneOf"><code>OneOf</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L64-L74">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.filter-Tuple{Any, Supposition.Data.Possibility}" href="#Base.filter-Tuple{Any, Supposition.Data.Possibility}"><code>Base.filter</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">filter(f, pos::Possibility)</code></pre><p>Filter the output of <code>produce!</code> on <code>pos</code> by applying the predicate <code>f</code>.</p><div class="admonition is-info"><header class="admonition-header">No stalling</header><div class="admonition-body"><p>In order not to stall generation of values, this will not try to produce a value from <code>pos</code> forever, but reject the testcase after some attempts.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L172-L182">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.map-Tuple{Any, Supposition.Data.Possibility}" href="#Base.map-Tuple{Any, Supposition.Data.Possibility}"><code>Base.map</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">map(f, pos::Possibility)</code></pre><p>Apply <code>f</code> to the result of calling <code>produce!</code> on <code>pos</code> (lazy mapping).</p><p>Equivalent to calling <code>Map(pos, f)</code>.</p><p>See also <a href="interfaces.html#Supposition.Data.Map"><code>Map</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L134-L142">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.BitIntegers-Tuple{}" href="#Supposition.Data.BitIntegers-Tuple{}"><code>Supposition.Data.BitIntegers</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">BitIntegers() &lt;: Possibility{Union{Int128, Int16, Int32, Int64, Int8, UInt128, UInt16, UInt32, UInt64, UInt8}}</code></pre><p>A <code>Possibility</code> for generating all possible bitintegers with fixed size.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L267-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.bind-Tuple{Any, Supposition.Data.Possibility}" href="#Supposition.Data.bind-Tuple{Any, Supposition.Data.Possibility}"><code>Supposition.Data.bind</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">bind(f, pos::Possibility)</code></pre><p>Maps the output of <code>produce!</code> on <code>pos</code> through <code>f</code>, and calls <code>produce!</code> on the result again. <code>f</code> is expected to take a value and return a <code>Possibility</code>.</p><p>Equivalent to calling <code>Bind(pos, f)</code>.</p><p>See also <a href="interfaces.html#Supposition.Data.Bind"><code>Bind</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L214-L223">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.postype-Tuple{P} where P&lt;:Supposition.Data.Possibility" href="#Supposition.Data.postype-Tuple{P} where P&lt;:Supposition.Data.Possibility"><code>Supposition.Data.postype</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">postype(::P) where P &lt;: Possibility</code></pre><p>Gives the type of objects this <code>Possibility</code> object will generate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L100-L104">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.postype-Union{Tuple{Type{_P}}, Tuple{_P}, Tuple{T}} where {T, _P&lt;:Supposition.Data.Possibility{T}}" href="#Supposition.Data.postype-Union{Tuple{Type{_P}}, Tuple{_P}, Tuple{T}} where {T, _P&lt;:Supposition.Data.Possibility{T}}"><code>Supposition.Data.postype</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">postype(::Type{P&lt;:Possibility})</code></pre><p>Gives the type of objects this <code>Possibility</code> type will generate.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L93-L97">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.recursive-Tuple{Any, Supposition.Data.Possibility}" href="#Supposition.Data.recursive-Tuple{Any, Supposition.Data.Possibility}"><code>Supposition.Data.recursive</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">recursive(f, pos::Possibility; max_layers=5)</code></pre><p>Recursively expand <code>pos</code> into deeper nested <code>Possibility</code> by repeatedly passing <code>pos</code> itself to <code>f</code>. <code>f</code> returns a new <code>Possibility</code>, which is then passed into <code>f</code> again until the maximum depth is achieved.</p><p>Equivalent to calling <code>Recursive(pos, f)</code>.</p><p>See also <a href="interfaces.html#Supposition.Data.Recursive"><code>Recursive</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L589-L599">source</a></section></article><h3 id="Types"><a class="docs-heading-anchor" href="#Types">Types</a><a id="Types-1"></a><a class="docs-heading-anchor-permalink" href="#Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.AsciiCharacters" href="#Supposition.Data.AsciiCharacters"><code>Supposition.Data.AsciiCharacters</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AsciiCharacters() &lt;: Possibility{Char}</code></pre><p>A <code>Possibility</code> of producing arbitrary <code>Char</code> instances that are <code>isascii</code>. More efficient than filtering <a href="interfaces.html#Supposition.Data.Characters"><code>Characters</code></a>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; ascii = Data.AsciiCharacters()

julia&gt; example(ascii, 5)
5-element Vector{Char}:
 &#39;8&#39;: ASCII/Unicode U+0038 (category Nd: Number, decimal digit)
 &#39;i&#39;: ASCII/Unicode U+0069 (category Ll: Letter, lowercase)
 &#39;R&#39;: ASCII/Unicode U+0052 (category Lu: Letter, uppercase)
 &#39;\f&#39;: ASCII/Unicode U+000C (category Cc: Other, control)
 &#39;&gt;&#39;: ASCII/Unicode U+003E (category Sm: Symbol, math)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L645-L664">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Bind" href="#Supposition.Data.Bind"><code>Supposition.Data.Bind</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Bind(source::Possibility, f)</code></pre><p>Binds <code>f</code> to <code>source</code>, i.e., on <code>produce!(::Bind, ::TestCase)</code> this calls <code>produce!</code> on <code>source</code>, the result of which is passed to <code>f</code>, the output of which will be used as input to <code>produce!</code> again.</p><p>In other words, <code>f</code> takes a value <code>produce!</code>d by <code>source</code> and gives back a <code>Possibility</code> that is then immediately <code>produce!</code>d from.</p><p>Equivalent to <code>bind(f, source)</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L197-L208">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Booleans" href="#Supposition.Data.Booleans"><code>Supposition.Data.Booleans</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Booleans() &lt;: Possibility{Bool}</code></pre><p>A <code>Possibility</code> for sampling boolean values.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; bools = Data.Booleans()

julia&gt; example(bools, 4)
4-element Vector{Bool}:
 0
 1
 0
 1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L797-L814">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Characters" href="#Supposition.Data.Characters"><code>Supposition.Data.Characters</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Characters(;valid::Bool = false) &lt;: Possibility{Char}</code></pre><p>A <code>Possibility</code> of producing arbitrary <code>Char</code> instances.</p><div class="admonition is-warning"><header class="admonition-header">Unicode</header><div class="admonition-body"><p>This will <code>produce!</code> ANY possible <code>Char</code> by default, not just valid unicode codepoints! To only produce valid unicode codepoints, pass <code>valid=true</code> as a keyword argument.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; chars = Data.Characters()

julia&gt; example(chars, 5)
5-element Vector{Char}:
 &#39;‚†∫&#39;: Unicode U+283A (category So: Symbol, other)
 &#39;∞≥ç&#39;: Unicode U+30CCD (category Lo: Letter, other)
 &#39;\U6ec9c&#39;: Unicode U+6EC9C (category Cn: Other, not assigned)
 &#39;\U1a05c5&#39;: Unicode U+1A05C5 (category In: Invalid, too high)
 &#39;ìÇ´&#39;: Unicode U+130AB (category Lo: Letter, other)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L606-L628">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Dicts" href="#Supposition.Data.Dicts"><code>Supposition.Data.Dicts</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Dicts(keys::Possibility, values::Possibility; min_size=0, max_size=10_000)</code></pre><p>A <code>Possibility</code> for generating <code>Dict</code> objects. The keys are drawn from <code>keys</code>,     while the values are drawn from <code>values</code>. <code>min_size</code>/<code>max_size</code> control     the number of objects placed into the resulting <code>Dict</code>, respectively.</p><pre><code class="language-julia-repl hljs">julia&gt; dicts = Data.Dicts(Data.Integers{UInt8}(), Data.Integers{Int8}(); max_size=3);

julia&gt; example(dicts)
Dict{UInt8, Int8} with 2 entries:
  0x54 =&gt; -29
  0x1f =&gt; -28</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L705-L720">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Floats" href="#Supposition.Data.Floats"><code>Supposition.Data.Floats</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Floats{T &lt;: Union{Float16,Float32,Float64}}(;infs=true, nans=true) &lt;: Possibility{T}</code></pre><p>A <code>Possibility</code> for sampling floating point values.</p><p>The keyword <code>infs</code> controls whether infinities can be generated. <code>nans</code> controls whether     any <code>NaN</code> (signaling &amp; quiet) will be generated.</p><div class="admonition is-warning"><header class="admonition-header">Inf, Nan</header><div class="admonition-body"><p>This possibility will generate <em>any</em> valid instance, including positive and negative infinities, signaling and quiet NaNs and every possible float.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; floats = Data.Floats{Float16}()

julia&gt; example(floats, 5)
5-element Vector{Float16}:
  -8.3e-6
   1.459e4
   3.277
 NaN
  -0.0001688</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L821-L846">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Floats-Tuple{}" href="#Supposition.Data.Floats-Tuple{}"><code>Supposition.Data.Floats</code></a> ‚Äî <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Floats(;nans=true, infs=true) &lt;: Possibility{Union{Float64,Float32,Float16}}</code></pre><p>A catch-all for generating instances of all three IEEE floating point types.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L855-L859">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Integers" href="#Supposition.Data.Integers"><code>Supposition.Data.Integers</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Integers(minimum::T, maximum::T) &lt;: Possibility{T &lt;: Integer}
Integers{T}() &lt;: Possibility{T &lt;: Integer}</code></pre><p>A <code>Possibility</code> representing drawing integers from <code>[minimum, maximum]</code>. The second constructors draws from the entirety of <code>T</code>.</p><p>Produced values are of type <code>T</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; is = Data.Integers{Int}()

julia&gt; example(is, 5)
5-element Vector{Int64}:
 -5854403925308846160
  4430062772779972974
    -9995351034504801
  2894734754389242339
 -6640496903289665416</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L232-L254">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Just" href="#Supposition.Data.Just"><code>Supposition.Data.Just</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Just(value::T) &lt;: Possibility{T}</code></pre><p>A <code>Possibility</code> that always produces <code>value</code>.</p><div class="admonition is-warning"><header class="admonition-header">Mutable Data</header><div class="admonition-body"><p>The source object given to this <code>Just</code> is not copied when <code>produce!</code> is called. Be careful with mutable data!</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; three = Data.Just(3)

julia&gt; example(three, 3)
3-element Vector{Int64}:
 3
 3
 3</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L438-L458">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Map" href="#Supposition.Data.Map"><code>Supposition.Data.Map</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Map(source::Possibility, f) &lt;: Possibility</code></pre><p>A <code>Possibility</code> representing mapping values from <code>source</code> through <code>f</code>.</p><p>Equivalent to calling <code>map(f, source)</code>.</p><p>The pre-calculated return type of <code>Map</code> is a <em>best effort</em> and may be wider than necessary.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; makeeven(x) = (x √∑ 2) * 2

julia&gt; pos = map(makeeven, Data.Integers{Int8}())

julia&gt; all(iseven, example(pos, 10_000))
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L107-L127">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.OneOf" href="#Supposition.Data.OneOf"><code>Supposition.Data.OneOf</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OneOf(pos::Possibility...) &lt;: Possibility</code></pre><p>A <code>Possibility</code> able to generate any of the examples one of the given <code>Possibility</code> can produce. The given <code>Possibility</code> are sampled from uniformly.</p><p>At least one <code>Possibility</code> needs to be given to <code>OneOf</code>.</p><p><code>postype(::OneOf)</code> is inferred as a <em>best effort</em>, and may be wider than necessary.</p><p><code>OneOf</code> can also be constructed through use of <code>a | b</code> on <code>Possibility</code>. Constructed in this way, if either <code>a</code> or <code>b</code> is already a <code>OneOf</code>, the resulting <code>OneOf</code> acts as if it had been given the original <code>Possibility</code> objects in the first place. That is, <code>OneOf(a, b) | c</code> acts like <code>OneOf(a, b, c)</code>.</p><p>See also <a href="interfaces.html#Supposition.Data.WeightedNumbers"><code>WeightedNumbers</code></a> and <a href="interfaces.html#Supposition.Data.WeightedSample"><code>WeightedSample</code></a>.</p><pre><code class="language-julia-repl hljs">julia&gt; of = Data.OneOf(Data.Integers{Int8}(), Data.Integers{UInt8}());

julia&gt; Data.postype(of)
Union{Int8, UInt8}

julia&gt; ex = map(of) do i
           (i, typeof(i))
       end;

julia&gt; example(ex)
(-83, Int8)

julia&gt; example(ex)
(0x9f, UInt8)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L472-L506">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Pairs" href="#Supposition.Data.Pairs"><code>Supposition.Data.Pairs</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Pairs(first::Possibility{T}, second::Possibility{S}) where {T,S} &lt;: Possibility{Pair{T,S}}</code></pre><p>A <code>Possibility</code> for producing <code>a =&gt; b</code> pairs. <code>a</code> is produced by <code>first</code>, <code>b</code> is produced by <code>second</code>.</p><pre><code class="nohighlight hljs">julia&gt; p = Data.Pairs(Data.Integers{UInt8}(), Data.Floats{Float64}());

julia&gt; example(p, 4)
4-element Vector{Pair{UInt8, Float64}}:
 0x41 =&gt; 4.1183566661848205e-230
 0x48 =&gt; -2.2653631095108555e-119
 0x2a =&gt; -6.564396855333643e224
 0xec =&gt; 1.9330751262581671e-53</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L412-L427">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Recursive" href="#Supposition.Data.Recursive"><code>Supposition.Data.Recursive</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Recursive(base::Possibility, extend; max_layers::Int=5) &lt;: Possibility{T}</code></pre><p>A <code>Possibility</code> for generating recursive data structures. <code>base</code> is the basecase of the recursion. <code>extend</code> is a function returning a new <code>Possibility</code> when given a <code>Possibility</code>, called to recursively expand a tree starting from <code>base</code>. The returned <code>Possibility</code> is fed back into <code>extend</code> again, expanding the recursion by one layer.</p><p><code>max_layers</code> designates the maximum layers <code>Recursive</code> should keep track of. This must be at least <code>1</code>, so that at least the base case can always be generated. Note that this implies <code>extend</code> will be used at most <code>max_layers-1</code> times, since the base case of the recursion will not be wrapped.</p><p>Equivalent to calling <code>recursive(extend, base)</code>.</p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; base = Data.Integers{UInt8}()

julia&gt; wrap(pos) = Data.Vectors(pos; min_size=2, max_size=3)

julia&gt; rec = Data.recursive(wrap, base; max_layers=3);

julia&gt; Data.postype(rec) # the result is formatted here for legibility
Union{UInt8,
      Vector{UInt8},
      Vector{Union{UInt8, Vector{UInt8}}}
}

julia&gt; example(rec)
0x31

julia&gt; example(rec)
2-element Vector{Union{UInt8, Vector{UInt8}}}:
     UInt8[0xa9, 0xb4]
 0x9b

julia&gt; example(rec)
2-element Vector{UInt8}:
 0xbd
 0x25</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L526-L571">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.SampledFrom" href="#Supposition.Data.SampledFrom"><code>Supposition.Data.SampledFrom</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">SampledFrom(collection) &lt;: Possibility{eltype(collection)}</code></pre><p>A <code>Possibility</code> for sampling uniformly from <code>collection</code>.</p><p><code>collection</code>, as well as its <code>eachindex</code>, is assumed to be indexable.</p><div class="admonition is-warning"><header class="admonition-header">Mutable Data</header><div class="admonition-body"><p>The source objects from the collection given to this <code>SampledFrom</code> is not copied when <code>produce!</code> is called. Be careful with mutable data!</p></div></div><div class="admonition is-success"><header class="admonition-header">Sampling from `String`</header><div class="admonition-body"><p>To sample from a <code>String</code>, you can <code>collect</code> the string first to get a <code>Vector{Char}</code>. This is necessary because <code>String</code>s use the variable-length UTF-8 encoding, which isn&#39;t arbitrarily indexable in constant time.</p></div></div><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; sampler = Data.SampledFrom([1, 1, 1, 2])

julia&gt; example(sampler, 4)
4-element Vector{Int64}:
 1
 1
 2
 1</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L754-L783">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Satisfying" href="#Supposition.Data.Satisfying"><code>Supposition.Data.Satisfying</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Satisfying(source::Possibility, pred) &lt;: Possibility</code></pre><p>A <code>Possibility</code> representing values from <code>source</code> fulfilling <code>pred</code>.</p><p>Equivalent to calling <code>filter(f, source)</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; pos = filter(iseven, Data.Integers{Int8}())

julia&gt; all(iseven, example(pos, 10_000))
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L146-L161">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Text" href="#Supposition.Data.Text"><code>Supposition.Data.Text</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Text(alphabet::Possibility{Char}; min_len=0, max_len=10_000) &lt;: Possibility{String}</code></pre><p>A <code>Possibility</code> for producing <code>String</code>s containing <code>Char</code>s of a given alphabet.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; text = Data.Text(Data.AsciiCharacters(); max_len=15)

julia&gt; example(text, 5)
5-element Vector{String}:
 &quot;U\x127lxf&quot;
 &quot;hm\x172SJ-(&quot;
 &quot;h`\x03\0\x01[[il&quot;
 &quot;\x0ep4&quot;
 &quot;9+Hk3 ii\x1eT&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L674-L692">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Vectors" href="#Supposition.Data.Vectors"><code>Supposition.Data.Vectors</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Vectors(elements::Possibility{T}; min_size=0, max_size=10_000) &lt;: Possibility{Vector{T}}</code></pre><p>A <code>Possibility</code> representing drawing vectors with length <code>l</code> in <code>min_size &lt;= l &lt;= max_size</code>, holding elements of type <code>T</code>.</p><p><code>min_size</code> and <code>max_size</code> must be positive numbers, with <code>min_size &lt;= max_size</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; vs = Data.Vectors(Data.Floats{Float16}(); max_size=5)

julia&gt; example(vs, 3)
3-element Vector{Vector{Float16}}:
 [9.64e-5, 9.03e3, 0.04172, -0.0003352]
 [9.793e-5, -2.893, 62.62, 0.0001961]
 [-0.007023, NaN, 3.805, 0.1943]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L291-L310">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.WeightedNumbers" href="#Supposition.Data.WeightedNumbers"><code>Supposition.Data.WeightedNumbers</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WeightedNumbers(weights::Vector{Float64}) &lt;: Possibility{Int}</code></pre><p>Sample the numbers from <code>1:length(weights)</code>, each with a weight of <code>weights[i]</code>.</p><p>The weights may be any number &gt; 0.0.</p><p>See also <a href="interfaces.html#Supposition.Data.OneOf"><code>OneOf</code></a>.</p><pre><code class="language-julia-repl hljs">julia&gt; using Supposition

julia&gt; bn = Data.WeightedNumbers([1.0, 1.0, 3.0]);

julia&gt; example(Data.Vectors(bn; min_size=3, max_size=15), 5)
5-element Vector{Vector{Int64}}:
 [3, 2, 3, 3, 2, 3, 3]
 [1, 1, 1, 2, 1, 3, 1, 3]
 [2, 3, 3, 3, 3, 3, 3, 1, 1, 3, 3, 3]
 [3, 3, 2, 3, 3]
 [1, 3, 3, 3, 2, 2]</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L879-L901">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.WeightedSample" href="#Supposition.Data.WeightedSample"><code>Supposition.Data.WeightedSample</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">WeightedSample{T}(colllection, weights::Vector{Float64}) &lt;: Possibility{T}</code></pre><p>Draw an element from the indexable <code>collection</code>, biasing the  drawing process by assigning each index <code>i</code> of <code>col</code> the weight at <code>weights[i]</code>.</p><p><code>length</code> of <code>col</code> and <code>weights</code> must be equal and <code>eachindex(col)</code> must be indexable.</p><p>See also <a href="interfaces.html#Supposition.Data.OneOf"><code>OneOf</code></a>.</p><div class="admonition is-success"><header class="admonition-header">Sampling from `String`</header><div class="admonition-body"><p>To sample from a <code>String</code>, you can <code>collect</code> the string first to get a <code>Vector{Char}</code>. This is necessary because <code>String</code>s use the variable-length UTF-8 encoding, which isn&#39;t arbitrarily indexable in constant time.</p></div></div><pre><code class="nohighlight hljs">julia&gt; bs = Data.WeightedSample([&quot;foo&quot;, &quot;bar&quot;, &quot;baz&quot;], [3.0, 1.0, 1.0]);

julia&gt; example(bs, 10)
10-element Vector{String}:
 &quot;foo&quot;
 &quot;foo&quot;
 &quot;bar&quot;
 &quot;baz&quot;
 &quot;baz&quot;
 &quot;foo&quot;
 &quot;bar&quot;
 &quot;foo&quot;
 &quot;foo&quot;
 &quot;bar&quot;</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L981-L1015">source</a></section></article><h2 id="Type-based-hooks"><a class="docs-heading-anchor" href="#Type-based-hooks">Type-based hooks</a><a id="Type-based-hooks-1"></a><a class="docs-heading-anchor-permalink" href="#Type-based-hooks" title="Permalink"></a></h2><p>These are hooks for users to provide custom implementations of certain parts of Supposition.jl. Follow their contracts precisely if you implement your own.</p><h3 id="Possibility{T}"><a class="docs-heading-anchor" href="#Possibility{T}"><code>Possibility{T}</code></a><a id="Possibility{T}-1"></a><a class="docs-heading-anchor-permalink" href="#Possibility{T}" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.Data.Possibility" href="#Supposition.Data.Possibility"><code>Supposition.Data.Possibility</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Possibility{T}</code></pre><p>Abstract supertype for all generators. The <code>T</code> type parameter describes the kinds of objects generated by this integrated shrinker.</p><p>Required methods:</p><ul><li><code>produce!(::TestCase, ::P) where P &lt;: Possibility</code></li></ul><p>Fallback definitions:</p><ul><li><code>postype(::Possibility{T}) -&gt; Type{T}</code></li><li><code>example(::Possibility{T}) -&gt; T</code></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/data.jl#L43-L57">source</a></section></article><h3 id="ExampleDB"><a class="docs-heading-anchor" href="#ExampleDB"><code>ExampleDB</code></a><a id="ExampleDB-1"></a><a class="docs-heading-anchor-permalink" href="#ExampleDB" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Supposition.ExampleDB" href="#Supposition.ExampleDB"><code>Supposition.ExampleDB</code></a> ‚Äî <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ExampleDB</code></pre><p>An abstract type representing a database of previous counterexamples.</p><p>Required methods:</p><ul><li><code>records(::ExampleDB)</code>: Returns an iterable of all currently recorded counterexamples.</li><li><code>record!(::ExampleDB, key, value)</code>: Record the counterexample <code>value</code> under the key <code>key</code>.</li><li><code>retrieve(::ExampleDB, key)::Option</code>: Retrieve the previously recorded counterexample stored under <code>key</code>.     Return <code>nothing</code> if no counterexample was stored under that key.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/Seelengrab/Supposition.jl/blob/f70e911112ec4543e9de793fc252cbb8eb81dd8b/src/types.jl#L51-L62">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="faq.html">¬´ FAQ</a><a class="docs-footer-nextpage" href="benchmarks.html">Benchmarks ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.4.0 on <span class="colophon-date" title="Wednesday 24 April 2024 15:52">Wednesday 24 April 2024</span>. Using Julia version 1.10.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
